Arma3 게임을 이용한 열상, 가시광, 야간투시 데이터셋 구축

**실제 적용 환경**: 야간 + 사막 맵 + 탈레반 적 진영 캐릭터 탐지
**핵심 전략**: 열상은 주/야간 차이가 없다는 특성을 활용한 자동 라벨링 파이프라인

---

## 모델 전략 (우선순위 순)

### 🎯 주안 (Plan A): 3-way 멀티모달 모델
- **입력**: 열상 + 야간투시 + Enhanced 가시광
- **장점**: 최대한의 정보 활용, 각 모달리티의 장점 결합
- **가시광 전처리**: Low-Light Enhancement로 야간 RGB 증폭 후 야간투시와 융합

### 🔄 보조안 (Plan B): 2-way 멀티모달 모델
- **입력**: 열상 + 야간투시
- **용도**: 3-way가 성능 향상이 없거나 복잡도 대비 효과가 낮을 경우
- **장점**: 구조 단순, 검증된 접근법

### 🛡️ 최후안 (Plan C): 단일 모달 모델
- **입력**: 열상만
- **용도**: 멀티모달 융합이 실패하거나 오히려 성능 저하 시
- **장점**: 가장 안정적, 열상은 야간 환경에서 가장 신뢰성 높음

---

## 1단계: 주간 환경 - 열상 자동 라벨링용 기준 데이터셋 구축
**목적**: 야간 열상 자동 라벨링에 사용할 사전학습 모델 훈련용 데이터 생성

1. 데이터 수집
   - 12:00 낮 시간을 고정하여, 동일한 화면에서의 열상, 가시광 데이터를 수집함
   - Arma 3의 사막 맵에서 탈레반 진영 캐릭터만 맵에 배치하여 환경 제약 설정

2. 주간 가시광 데이터에 대해 yolo9e, yolo11x 사전학습 모델로 객체(Person) 자동 검출 수행
   - 이유: 주간에는 가시광이 가장 명확하여 자동 라벨링 정확도가 높음

3. 검출된 가시광 객체 라벨을 동일 프레임의 열상 데이터에 매핑
   - 결과: 주간 열상 라벨링 데이터셋 완성

4. 주간 열상 데이터셋으로 열상 전용 사전학습 모델 훈련
   - 이 모델은 2단계에서 야간 열상 자동 라벨링에 사용됨

## 2단계: 야간 환경 - 멀티모달 데이터셋 구축 (실제 적용 환경)
**목적**: 3-way/2-way/단일 모달 모델 모두 지원하는 범용 데이터셋 생성

### 2-1. 야간 데이터 수집
1. 데이터 수집
   - 21:00 야간 시간을 고정하여, 동일한 화면에서의 **열상, 야간투시, 가시광** 3종 데이터를 모두 수집함
   - Arma 3의 사막 맵에서 탈레반 진영 캐릭터만 맵에 배치하여 환경 제약 설정

### 2-2. 야간 열상 자동 라벨링 (모든 모달리티의 기준 라벨)
1. 야간 열상 데이터에 대해 1단계에서 훈련한 열상 전용 사전학습 모델로 객체(Person) 자동 검출 수행
   - **핵심**: 열상은 주/야간 차이가 거의 없으므로, 주간 열상으로 학습한 모델이 야간 열상에서도 작동함
   - 야간 가시광은 어두워서 기존 사전학습 모델 사용 불가능하지만, 열상은 가능!

2. 검출된 야간 열상 객체 라벨을 동일 프레임의 **야간투시, 가시광** 데이터에 모두 매핑
   - 결과: 야간 열상 + 야간투시 + 가시광 라벨링 데이터셋 완성

### 2-3. 야간 가시광 Enhancement (Plan A용 전처리)
1. 야간 가시광 데이터에 Low-Light Enhancement 적용
   - 기법 후보: RetinexNet, EnlightenGAN, Zero-DCE, 감마 보정, 히스토그램 평활화 등
   - 목적: 야간 가시광의 미세한 RGB 값을 증폭하여 낮처럼 보이게 복원
   
2. Enhanced 가시광과 야간투시 이미지를 활용한 융합 데이터 생성 (선택적)
   - 각 모달리티의 장점을 결합하여 더 풍부한 시각 정보 제공

### 2-4. 객체 외곽선 추출 및 합성 (시각화 및 증강 데이터)
1. 탐지된 Person 객체에 대해 외곽선(contour) 추출
   - 바운딩 박스 또는 세그멘테이션 마스크에서 외곽선 추출
   - 외곽선 색상: **주황색(Orange)** 고정
   
2. 외곽선을 배경 이미지에 합성
   - **배경 옵션 1**: Low-Light Enhancement 처리된 야간 가시광 이미지
   - **배경 옵션 2**: 야간투시 이미지
   - **배경 옵션 3**: Enhanced 가시광 + 야간투시 융합 이미지 (최고 품질)
     - 두 이미지를 융합하여 낮처럼 보이는 더 리얼한 이미지 생성
     - 융합 기법 후보: Weighted blending, Multi-scale fusion, Laplacian pyramid, Attention-based fusion
     - Enhanced 가시광의 RGB 색상 정보 + 야간투시의 디테일/밝기 정보 결합
   - **배경 옵션 4**: 딥러닝 기반 낮 이미지 추정 (이상적 목표)
     - 입력: Enhanced 가시광 + 야간투시 이미지 (옵션 1, 2)
     - 출력: 낮 환경으로 변환된 추정 이미지
     - 가능 접근법: Image-to-Image Translation (Pix2Pix, CycleGAN 등), Night-to-Day 변환 모델
     - 장점: 가장 자연스럽고 리얼한 낮 이미지 생성 가능
   - 목적: 탐지 결과 시각화 및 외곽선 강조 데이터 생성
   
3. 합성 결과 활용
   - 모델 성능 검증용 시각화
   - 사용자에게 탐지 결과 표시용 인터페이스
   - 추가 학습 데이터 증강 (선택적)

### 2-5. 모델별 데이터셋 활용
- **Plan A (3-way)**: 열상 + 야간투시 + Enhanced 가시광
- **Plan B (2-way)**: 열상 + 야간투시
- **Plan C (단일)**: 열상만

모든 시나리오에 대응 가능한 완전한 데이터셋 구축 완료